name: Run PDF White-Box Bot

on:
  workflow_dispatch:         # ÙŠØ¶ÙŠÙ Ù„Ùƒ Ø²Ø± ØªØ´ØºÙŠÙ„ ÙŠØ¯ÙˆÙŠ
  schedule:
    - cron: '0 */15 * * *'    # âš ï¸ Ø£Ù‡Ù… Ø³Ø·Ø±: ÙŠØ¹ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„ ÙƒÙ„ 5 Ø³Ø§Ø¹Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

jobs:
  run-bot:
    runs-on: ubuntu-latest
    timeout-minutes: 350     # ÙŠÙ‚ØªÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ù€ 6 Ø³Ø§Ø¹Ø§Øª (Ø¹Ø´Ø§Ù† ÙŠØ´ØªØºÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯)

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt

    - name: Run Bot Script
      env:
        # ğŸ”´ Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø¶Ø§ÙŠÙ Ø§Ù„ØªÙˆÙƒÙŠÙ† ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† (Secrets)
        TELEGRAM_TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
      run: |
        python bot.py
